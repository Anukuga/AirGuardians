{"ast":null,"code":"var _jsxFileName = \"/Users/anusuyakugavarathan/Programming/AirGuardians-Backup/src/components/Donut.js\",\n  _s = $RefreshSig$();\nimport { useRef, useEffect } from \"react\";\nimport * as d3 from \"d3\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Donut = ({\n  entity,\n  data\n}) => {\n  _s();\n  const svgRef = useRef();\n  const defaultChartData = [{\n    name: \"residualValue\",\n    value: 100 - data\n  }, {\n    name: \"actualValue\",\n    value: data\n  }];\n  const aqiChartData = [{\n    name: \"residualValue\",\n    value: 500 - data\n  }, {\n    name: \"actualValue\",\n    value: data\n  }];\n  const details = {\n    entity: entity.toLowerCase() === \"humidity\" ? \"Humidity\" : entity.toLowerCase() === \"aqi\" ? \"AQI\" : \"Value\",\n    value: entity.toLowerCase() === \"humidity\" ? `${data}%` : data,\n    remark: entity.toLowerCase() === \"humidity\" ? data > 60 ? \"High\" : data < 30 ? \"Low\" : \"Optimal\" : data <= 50 ? \"Good\" : data <= 100 ? \"Moderate\" : data <= 150 ? \"Not Good\" : data <= 200 ? \"Unhealthy\" : data <= 300 ? \"Very Unhealthy\" : \"Hazardous\",\n    color: entity.toLowerCase() === \"humidity\" ? data > 60 ? \"#FF0000\" // High: Red\n    : data < 30 ? \"#FFA500\" // Low: Orange\n    : \"#008000\" // Optimal: Green\n    : data <= 50 ? \"#008000\" // Good: Green\n    : data <= 100 ? \"#FFFF00\" // Moderate: Yellow\n    : data <= 150 ? \"#FFA500\" // Unhealthy for Sensitive Groups: Orange\n    : data <= 200 ? \"#FF0000\" // Unhealthy: Red\n    : data <= 300 ? \"#800080\" // Very Unhealthy: Purple\n    : \"#800000\" // Hazardous: Maroon\n  };\n  useEffect(() => {\n    const width = 350;\n    const height = 350;\n    const margin = 30;\n    const radius = Math.min(width, height) / 2 - margin;\n    const svg = d3.select(svgRef.current);\n    svg.selectAll(\"*\").remove();\n    const g = svg.attr(\"width\", width).attr(\"height\", height).append(\"g\").attr(\"transform\", `translate(${width / 2}, ${height / 2})`);\n    const pie = d3.pie().value(d => d.value);\n    const dataReady = pie(entity.toLowerCase() === \"aqi\" ? aqiChartData : defaultChartData);\n    g.selectAll(\"path\").data(dataReady).join(\"path\").attr(\"d\", d3.arc().innerRadius(90) // Size of the donut hole\n    .outerRadius(radius)).attr(\"fill\", d => {\n      if (d.data.name === \"residualValue\") {\n        return \"grey\";\n      }\n      return details.color;\n    }).attr(\"stroke\", \"black\").style(\"stroke-width\", \"2px\").style(\"opacity\", 0.7);\n\n    // DONUT'S CENTER DETAILS (ENTITY, VALUE, REMARK)\n    g.append(\"text\").attr(\"text-anchor\", \"middle\").attr(\"dy\", \"-1.5em\").style(\"font-size\", \"20px\").style(\"font-weight\", \"bold\").style(\"fill\", \"#333\").text(details.entity);\n    g.append(\"text\").attr(\"text-anchor\", \"middle\").attr(\"dy\", \"0em\").style(\"font-size\", \"24px\").style(\"font-weight\", \"bold\").style(\"fill\", \"#000\").text(details.value);\n    g.append(\"text\").attr(\"text-anchor\", \"middle\").attr(\"dy\", \"1.5em\").style(\"font-size\", \"16px\").style(\"fill\", details.color).text(details.remark);\n  }, [data, details]);\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    ref: svgRef\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 12\n  }, this);\n};\n_s(Donut, \"89Ty783ABEwsfMbSOeu9vscWF34=\");\n_c = Donut;\nexport default Donut;\n\n// TODO: Reduce size of the donut chart\n// TODO: Choose right colors\n// TODO: Make sure the DETAILS are displayed properly (centralized and styled properly)\n\n// TODO: Add responsiveness, animations, and transitions, etc.\nvar _c;\n$RefreshReg$(_c, \"Donut\");","map":{"version":3,"names":["useRef","useEffect","d3","jsxDEV","_jsxDEV","Donut","entity","data","_s","svgRef","defaultChartData","name","value","aqiChartData","details","toLowerCase","remark","color","width","height","margin","radius","Math","min","svg","select","current","selectAll","remove","g","attr","append","pie","d","dataReady","join","arc","innerRadius","outerRadius","style","text","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/anusuyakugavarathan/Programming/AirGuardians-Backup/src/components/Donut.js"],"sourcesContent":["import { useRef, useEffect } from \"react\";\nimport * as d3 from \"d3\";\n\nconst Donut = ({ entity, data }) => {\n    const svgRef = useRef();\n\n    const defaultChartData = [\n        { name: \"residualValue\", value: 100 - data },\n        { name: \"actualValue\", value: data },\n    ];\n\n    const aqiChartData = [\n        { name: \"residualValue\", value: 500 - data },\n        { name: \"actualValue\", value: data },\n    ];\n\n    const details = {\n        entity: entity.toLowerCase() === \"humidity\" ? \"Humidity\" : entity.toLowerCase() === \"aqi\" ? \"AQI\" : \"Value\",\n        value: entity.toLowerCase() === \"humidity\" ? `${data}%` : data,\n        remark:\n            entity.toLowerCase() === \"humidity\"\n                ? data > 60\n                    ? \"High\"\n                    : data < 30\n                        ? \"Low\"\n                        : \"Optimal\"\n                : data <= 50\n                    ? \"Good\"\n                    : data <= 100\n                        ? \"Moderate\"\n                        : data <= 150\n                            ? \"Not Good\"\n                            : data <= 200\n                                ? \"Unhealthy\"\n                                : data <= 300\n                                    ? \"Very Unhealthy\"\n                                    : \"Hazardous\",\n        color:\n            entity.toLowerCase() === \"humidity\"\n                ? data > 60\n                    ? \"#FF0000\" // High: Red\n                    : data < 30\n                        ? \"#FFA500\" // Low: Orange\n                        : \"#008000\" // Optimal: Green\n                : data <= 50\n                    ? \"#008000\" // Good: Green\n                    : data <= 100\n                        ? \"#FFFF00\" // Moderate: Yellow\n                        : data <= 150\n                            ? \"#FFA500\" // Unhealthy for Sensitive Groups: Orange\n                            : data <= 200\n                                ? \"#FF0000\" // Unhealthy: Red\n                                : data <= 300\n                                    ? \"#800080\" // Very Unhealthy: Purple\n                                    : \"#800000\", // Hazardous: Maroon\n    };\n\n    useEffect(() => {\n        const width = 350;\n        const height = 350;\n        const margin = 30;\n        const radius = Math.min(width, height) / 2 - margin;\n\n        const svg = d3.select(svgRef.current);\n        svg.selectAll(\"*\").remove();\n\n        const g = svg\n            .attr(\"width\", width)\n            .attr(\"height\", height)\n            .append(\"g\")\n            .attr(\"transform\", `translate(${width / 2}, ${height / 2})`);\n\n        const pie = d3.pie().value((d) => d.value);\n        const dataReady = pie(entity.toLowerCase() === \"aqi\" ? aqiChartData : defaultChartData);\n\n        g.selectAll(\"path\")\n            .data(dataReady)\n            .join(\"path\")\n            .attr(\n                \"d\",\n                d3\n                    .arc()\n                    .innerRadius(90) // Size of the donut hole\n                    .outerRadius(radius)\n            )\n            .attr(\"fill\", (d) => {\n                if (d.data.name === \"residualValue\") {\n                    return \"grey\";\n                }\n                return details.color;\n            })\n            .attr(\"stroke\", \"black\")\n            .style(\"stroke-width\", \"2px\")\n            .style(\"opacity\", 0.7);\n\n        // DONUT'S CENTER DETAILS (ENTITY, VALUE, REMARK)\n        g.append(\"text\")\n            .attr(\"text-anchor\", \"middle\")\n            .attr(\"dy\", \"-1.5em\")\n            .style(\"font-size\", \"20px\")\n            .style(\"font-weight\", \"bold\")\n            .style(\"fill\", \"#333\")\n            .text(details.entity);\n\n        g.append(\"text\")\n            .attr(\"text-anchor\", \"middle\")\n            .attr(\"dy\", \"0em\")\n            .style(\"font-size\", \"24px\")\n            .style(\"font-weight\", \"bold\")\n            .style(\"fill\", \"#000\")\n            .text(details.value);\n\n        g.append(\"text\")\n            .attr(\"text-anchor\", \"middle\")\n            .attr(\"dy\", \"1.5em\")\n            .style(\"font-size\", \"16px\")\n            .style(\"fill\", details.color)\n            .text(details.remark);\n    }, [data, details]);\n\n    return <svg ref={svgRef}></svg>;\n};\n\nexport default Donut;\n\n// TODO: Reduce size of the donut chart\n// TODO: Choose right colors\n// TODO: Make sure the DETAILS are displayed properly (centralized and styled properly)\n\n// TODO: Add responsiveness, animations, and transitions, etc."],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}